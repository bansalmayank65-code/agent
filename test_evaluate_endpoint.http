# Test Evaluate Endpoint with Proper Task and Result Data

### Step 1: First import a task with proper structure
POST http://localhost:8080/api/tasks/import-json
Content-Type: application/json

{
    "task_id": "eval_test_task",
    "env": "webshop",
    "model_provider": "openai", 
    "model": "gpt-4o-mini",
    "instruction": "Find and purchase a specific product on an e-commerce website",
    "actions": [
        {
            "type": "click",
            "target": "search_button",
            "description": "Click the search button"
        },
        {
            "type": "type", 
            "target": "search_input",
            "text": "laptop",
            "description": "Type 'laptop' in search field"
        }
    ],
    "outputs": [
        {
            "type": "screenshot",
            "description": "Final product page screenshot"
        }
    ],
    "edges": [
        {
            "from": 0,
            "to": 1,
            "condition": "success"
        }
    ]
}

### Step 2: Execute the task (run-task) to generate result data
POST http://localhost:8080/api/tasks/execute/run-task
Content-Type: application/json

{
    "task_path": "memory://testuser_eval_test_task.json",
    "num_trials": 1
}

### Step 3: Now evaluate the task (this should use the result data from step 2)
POST http://localhost:8080/api/tasks/execute/evaluate
Content-Type: application/json

{
    "task_path": "memory://testuser_eval_test_task.json"
}